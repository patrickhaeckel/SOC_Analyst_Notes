---
title: '09. Windows Security '
updated: 2025-05-01 21:34:17Z
created: 2025-04-29 01:14:04Z
---

### What is a Security Identifier (SID)?

A **Security Identifier (SID)** is a unique value used by Windows to identify a **security principal**‚Äîsuch as a user, group, or computer account. Windows uses SIDs behind the scenes to control access to resources.

Think of a SID like a **digital fingerprint** that Windows uses to track and authorize users, even if they have the same username on different systems.

* * *

### How SIDs Work

- **Automatically Generated**: Every time a new user, group, or system account is created, Windows automatically assigns it a unique SID.
    
- **Uniqueness**: Even if two users have the same name on different systems or domains, their SIDs will be different, allowing Windows to tell them apart.
    
- **Stored in the Security Database**: SIDs are stored and used by Windows to control access through mechanisms like **Access Control Lists (ACLs)**.
    
- **Included in Access Tokens**: When a user logs in, their SID (along with any group SIDs they belong to) is included in an **access token**. This token is used to determine what the user can and cannot do.
    

* * *

### SID Structure Breakdown

A SID looks like this:

`S-1-5-21-674899381-4069889467-2080702030-1002`

Let‚Äôs break this down:

| Part | Name | Meaning |
| --- | --- | --- |
| **S** | **SID Prefix** | Indicates the string is a SID |
| **1** | **Revision Level** | Always 1 (so far) |
| **5** | **Identifier Authority** | Shows who issued the SID (5 = NT Authority) |
| **21** | **Subauthority Prefix** | Indicates it's a unique SID for a domain or machine |
| **674899381-4069889467-2080702030** | **Domain Identifier (Subauthorities)** | A unique value that identifies the machine or domain that issued the SID |
| **1002** | **Relative Identifier (RID)** | A number that identifies the specific user or group within the domain or system |

**Active Directory (AD)**, all users in the same domain share the same domain SID (`S-1-5-21-...`). Only the **RID** at the end is different for each account.

* * *

### üîé Example: Viewing Your SID

If you run this command in PowerShell or Command Prompt:

`whoami /user`

You‚Äôll get output like this:

```
User Name         SID
================= =============================================
ws01\bob          S-1-5-21-674899381-4069889467-2080702030-1002

```

- `ws01\bob`: The username (bob) on computer/domain `ws01`
    
- `S-1-5-21-...-1002`: The unique SID for the user
    

&nbsp;

# **What is User Account Control (UAC)?**

**User Account Control (UAC)** is a Windows security feature designed to **prevent unauthorized changes** to your system‚Äîwhether from malware, scripts, or even accidental user actions. It acts like a **gatekeeper** for system-level operations.

* * *

### Why UAC Exists

UAC helps stop:

- Malware from silently installing or changing settings
    
- Users from unintentionally damaging the system
    
- Unauthorized programs from gaining administrative access
    

* * *

### How UAC Works

When an action is attempted that could affect the system‚Äîfor example:

- Installing software
    
- Changing system settings
    
- Modifying files in protected directories (like `C:\Windows` or `C:\Program Files`)
    

UAC intervenes by showing a **consent prompt**.

#### Two User Types and UAC Behavior:

| User Type | What Happens |
| --- | --- |
| **Administrator** | A **consent prompt** appears asking ‚ÄúDo you want to allow this app to make changes to your device?‚Äù You must click **Yes** to continue. |
| **Standard User** | A **credential prompt** appears asking for an **administrator password**. Without it, the action is blocked. |

This means even if malware tries to run something harmful, it won‚Äôt succeed unless a human gives it permission.

* * *

### Admin Approval Mode

This is a special mode UAC uses for administrator accounts:

- Even if you're logged in as an admin, **you don‚Äôt run with full privileges by default.**
    
- UAC keeps your session in a **"standard user" mode** until elevated privileges are needed.
    
- Only when you **approve** the prompt do you get temporary admin rights to run that action.
    

* * *

### What Triggers the UAC Prompt?

Some examples include:

- Running an installer (`.exe` or `.msi`)
    
- Changing Windows settings like firewall rules
    
- Modifying system-wide registry keys
    
- Running certain administrative tools (like `cmd.exe` as admin)
    

  

# **What is the Windows Registry?**

The **Windows Registry** is a **central database** used by the Windows operating system to store **configuration settings** for both the system and installed applications.

Think of it as the **brain of Windows**‚Äîit keeps track of everything from user preferences and app settings to hardware configurations and system behavior.

* * *

### How the Registry is Structured

The Registry is organized like a **folder tree**, similar to how files are arranged in File Explorer:

- **Root Keys** (like main folders)
    
- **Subkeys** (like subfolders)
    
- **Values** (like files containing actual data)
    

**Example:**

`HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Run`

This location tells Windows which programs to **automatically start when the system boots**.

* * *

### Common Root Keys (Main Registry Sections)

| Root Key | Purpose |
| --- | --- |
| `HKEY_LOCAL_MACHINE (HKLM)` | System-wide settings that apply to all users |
| `HKEY_CURRENT_USER (HKCU)` | Settings specific to the logged-in user |
| `HKEY_CLASSES_ROOT` | File type associations (e.g., which program opens `.txt` files) |
| `HKEY_USERS` | Stores profiles for all user accounts |
| `HKEY_CURRENT_CONFIG` | Real-time hardware configuration info |

* * *

### üìä Registry Value Types (with examples)

The data inside Registry keys is stored in different formats, called **value types**:

| Type | Description | Example Use |
| --- | --- | --- |
| `REG_SZ` | A regular string | `C:\Program Files\ExampleApp\app.exe` |
| `REG_DWORD` | A 32-bit number | `0` or `1` to enable/disable a feature |
| `REG_QWORD` | A 64-bit number | Used for large values like file timestamps |
| `REG_MULTI_SZ` | A list of strings | Multiple startup commands |
| `REG_EXPAND_SZ` | A string with environment variables | `%SystemRoot%\System32` |
| `REG_BINARY` | Raw binary data | Driver configurations or device settings |
| `REG_LINK` | Symbolic link to another key | Advanced Windows internals |
| `REG_NONE` | No specific type | Placeholder or undefined entry |
| `REG_DWORD_LITTLE_ENDIAN` | 32-bit number in little-endian format | Standard format in Windows |
| `REG_DWORD_BIG_ENDIAN` | 32-bit number in big-endian format | Rare in Windows; used for cross-platform compatibility |
| `REG_QWORD_LITTLE_ENDIAN` | 64-bit number in little-endian format | Large counters or timestamps |

&nbsp;

&nbsp;