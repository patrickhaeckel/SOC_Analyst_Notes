---
title: 01. Code Obfuscation
updated: 2025-09-30 05:13:41Z
created: 2025-09-30 05:01:03Z
---

### Why Learn JavaScript Deobfuscation?

Understanding code deobfuscation is an essential skill in both red team and blue team operations. Obfuscated code is often encountered during penetration testing, malware analysis, or threat hunting. For instance, JavaScript is frequently used to hide malicious behavior—like retrieving a payload from a remote server—through complex or unreadable code.

If we cannot interpret what obfuscated code is doing, we risk overlooking key functionalities, which could lead to incomplete or failed assessments during offensive or defensive security exercises.

This module will teach you how to:

- Locate JavaScript code in web pages
    
- Understand what code obfuscation is, how it's done, and why it's used
    
- Apply techniques to deobfuscate JavaScript
    
- Analyze and interpret the deobfuscated output
    

* * *

## Understanding the Source Code of a Web Page

Modern websites rely heavily on JavaScript. While HTML structures the content and CSS styles it, JavaScript handles interactivity and functionality—often in ways hidden from users.

Even though this source code runs on your browser, it's visible to anyone who knows where to look. To understand what a web page is doing on the client-side, we need to review its source code.

* * *

## CSS and JavaScript Placement

CSS can be:

- **Inline/Internal**: Between `<style>` tags in the same HTML file
    
- **External**: Linked using `<link rel="stylesheet" href="style.css">`
    

JavaScript follows the same logic:

- **Inline/Internal**: Between `<script>` tags
    
- **External**: Linked using `<script src="secret.js"></script>`
    

In our example, `secret.js` is an external script. When we open it, the code looks heavily obfuscated, like this:

`eval(function (p, a, c, k, e, d) { ... })`

This kind of obfuscation is designed to confuse anyone trying to read or analyze the code.

* * *

## What Is Code Obfuscation?

Code obfuscation deliberately makes code difficult to understand while maintaining its functionality. It’s often done automatically using obfuscation tools.

Obfuscators commonly:

- Replace variable names with meaningless characters
    
- Compress the code into unreadable structures
    
- Use dictionary-based or encoded representations to hide logic
    

### Why Use Obfuscation?

Legitimate use cases:

- Protect intellectual property
    
- Reduce the risk of unauthorized reuse or reverse engineering
    

Malicious use cases:

- Evade detection by security tools (e.g., antivirus, IDS/IPS)
    
- Hide payload delivery or data exfiltration mechanisms
    

JavaScript is especially vulnerable since it's executed in the browser and always exposed to the client.

* * *

## Testing JavaScript Behavior

Let’s start with a simple line of JavaScript:

`console.log('PHF JavaScript Deobfuscation Module');`

You can run this on [JSConsole](https://jsconsole.com)

to confirm it outputs the expected message.

* * *

## Minification vs. Obfuscation

### Minification:

- Removes whitespace, comments, and formatting
    
- Reduces file size for performance
    
- Often used in production environments
    
- Code remains functional but not necessarily secure
    

Tool: JavaScript Minifier

* * *

## Packing (Packer Obfuscation)

Packing is a common obfuscation method that uses a specific function format, like:

`eval(function(p,a,c,k,e,d){ ... })`

This packs the original code using variables (p, a, c, k, e, d) and a dictionary of keywords and symbols. While this makes the code harder to read, it still may reveal strings in plaintext.

* * *

## Advanced Obfuscation Techniques

Tools like [obfuscator.io](https://obfuscator.io)

allow you to:

- Encode strings (e.g., using Base64)
    
- Replace function and variable names
    
- Add control-flow flattening and dead code injection
    

Here's an example of heavily obfuscated output:

```
var _0x1ec6=['Bg9N','sfrciePHDMfty3jPChqGrgvVyMz1C2nHDgLVBIbnB2r1Bgu='];
(function(_0x13249d,_0x1ec6e5){...})(_0x1ec6,0xb4);
...
console[_0x14f8('0x0')](_0x14f8('0x1'));

```

This code still functions as expected but is extremely difficult to reverse manually.

* * *

## Extreme Obfuscation Examples

Some forms of obfuscation (like JSFuck or AA-Encode) use only special characters or JavaScript quirks to construct executable code.

Example:

`[][(![]+[])[+[]]+...SNIP...]`

Such code may still run correctly but often impacts performance due to its complexity.

* * *

| Tool / Website | Description |
| --- | --- |
| **JSConsole** | An online JavaScript console to run and test JavaScript code directly in your browser. |
| **JavaScript Minifier** | A tool that minifies JavaScript by removing unnecessary characters and formatting. |
| **BeautifyTools** | A tool for obfuscating JavaScript code using basic packing techniques. |
| **Obfuscator.io** | An advanced JavaScript obfuscator with features like Base64 string encoding, control-flow flattening, and string array rotation. |
| **JJ Encode** | A technique or tool for encoding JavaScript using `JJEncode` format to make it extremely unreadable. |
| **AA Encode** | A Japanese obfuscation method using complex patterns of character symbols to encode JavaScript. |
| **JSFuck** | A JavaScript obfuscation technique using only six characters (`[]()+!`) to write fully functional JS code. Mentioned as an advanced method that increases code execution time. |